# åè½©ä¹¦åº—é¡¹ç›®æ•°æ®åº“å¯¹æ¥æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°
åè½©ä¹¦åº—æ˜¯ä¸€ä¸ªå®Œæ•´çš„åœ¨çº¿å›¾ä¹¦é”€å”®å¹³å°ï¼ŒåŒ…å«ç”¨æˆ·ç®¡ç†ã€å›¾ä¹¦ç®¡ç†ã€è®¢å•ç®¡ç†ã€è´­ç‰©è½¦ã€ç”¨æˆ·è®ºå›ã€ä¸ªæ€§åŒ–æ¨èç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚ç›®å‰ä½¿ç”¨å‰ç«¯localStorageæ¨¡æ‹Ÿæ•°æ®å­˜å‚¨ï¼Œéœ€è¦ä¸çœŸå®æ•°æ®åº“è¿›è¡Œå¯¹æ¥ã€‚

## ğŸ¯ æ•°æ®åº“æ­æ¡£å·¥ä½œé‡ç‚¹
**ä½ çš„ä¸»è¦ä»»åŠ¡ï¼šè®¾è®¡å’Œåˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ï¼Œä¸ºåç«¯å¼€å‘æä¾›æ•°æ®å­˜å‚¨åŸºç¡€**

### â° å·¥ä½œæ—¶é—´çº¿
- **Day 1-2**: åˆ›å»ºæ•°æ®åº“å’Œæ ¸å¿ƒè¡¨ï¼ˆusers, books, ordersï¼‰
- **Day 2-3**: åˆ›å»ºæ‰©å±•è¡¨ï¼ˆè´­ç‰©è½¦ã€è®ºå›ã€æ¨èç­‰ï¼‰
- **Day 3**: å¯¼å…¥åˆå§‹æ•°æ®å’Œæµ‹è¯•

### ğŸ”— ä¸åç«¯æ­æ¡£çš„åä½œ
- æ•°æ®åº“è¡¨åˆ›å»ºå®Œæˆåï¼Œæä¾›è¿æ¥ä¿¡æ¯ç»™åç«¯æ­æ¡£
- ç¡®ä¿å­—æ®µå‘½åä¸¥æ ¼æŒ‰ç…§è§„èŒƒæ‰§è¡Œ
- é…åˆåç«¯æ­æ¡£è¿›è¡Œæ•°æ®åº“è¿æ¥æµ‹è¯•

## âš ï¸ é‡è¦è¯´æ˜ï¼šä»£ç æ•°æ®åº“å…¼å®¹æ€§

### ğŸ”§ å½“å‰ä»£ç æ”¯æŒæƒ…å†µ
**å¥½æ¶ˆæ¯ï¼šå½“å‰å‰ç«¯ä»£ç å·²ç»å…·å¤‡è‰¯å¥½çš„æ•°æ®åº“å¯¹æ¥åŸºç¡€ï¼**

#### âœ… å·²æ”¯æŒçš„åŠŸèƒ½ï¼š
1. **APIæ¥å£é¢„ç•™**ï¼šå¤šä¸ªé¡µé¢å·²é¢„ç•™APIæ¥å£è°ƒç”¨ä½ç½®
   - ç™»å½•é¡µé¢ï¼š`action="/api/login"`
   - æ³¨å†Œé¡µé¢ï¼š`action="/api/register"`
   - ç»“è´¦é¡µé¢ï¼š`fetch('/api/orders')`
   - è´­ç‰©è½¦ï¼š`fetch('/api/books/recommended')`

2. **æ•°æ®ç»“æ„æ ‡å‡†åŒ–**ï¼šæ‰€æœ‰æ•°æ®æ¨¡å‹éƒ½ä½¿ç”¨æ ‡å‡†JSONæ ¼å¼
3. **å¼‚æ­¥å¤„ç†æ”¯æŒ**ï¼šä»£ç ä¸­ä½¿ç”¨äº†Promiseå’Œasync/awaitæ¨¡å¼
4. **é”™è¯¯å¤„ç†æœºåˆ¶**ï¼šå…·å¤‡å®Œæ•´çš„é”™è¯¯æç¤ºå’Œå¤„ç†æµç¨‹
5. **Tokenè®¤è¯å‡†å¤‡**ï¼šç»“è´¦é¡µé¢å·²åŒ…å«Authorizationå¤´éƒ¨

#### ğŸ”„ éœ€è¦ä¿®æ”¹çš„å…³é”®ç‚¹ï¼š

##### 1. localStorageæ›¿æ¢ä¸ºAPIè°ƒç”¨
```javascript
// å½“å‰ä»£ç ï¼ˆéœ€è¦æ›¿æ¢ï¼‰
localStorage.getItem('userInfo')        â†’ GET /api/user/profile
localStorage.setItem('cart', data)      â†’ POST /api/cart/add
localStorage.getItem('browsingHistory') â†’ GET /api/browsing-history
localStorage.getItem('userPreferences') â†’ GET /api/user/preferences

// å·²ç»æ”¯æŒAPIçš„éƒ¨åˆ†ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰
fetch('/api/orders')                    âœ… å·²æ”¯æŒ
fetch('/api/books/recommended')         âœ… å·²æ”¯æŒ
fetch('/api/payments/alipay')           âœ… å·²æ”¯æŒ
```

##### 2. è®¤è¯æœºåˆ¶å‡çº§
```javascript
// å½“å‰ï¼šlocalStorageå­˜å‚¨
localStorage.setItem('isLoggedIn', 'true')

// æ”¹ä¸ºï¼šTokenè®¤è¯ï¼ˆéƒ¨åˆ†é¡µé¢å·²æ”¯æŒï¼‰
headers: {
    'Authorization': `Bearer ${localStorage.getItem('token')}`
}
```

##### 3. æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†
- å‰ç«¯å·²æœ‰å®Œæ•´çš„è¡¨å•éªŒè¯
- éœ€è¦æ·»åŠ æœåŠ¡ç«¯å“åº”çš„é”™è¯¯å¤„ç†

##### 4. å›¾ç‰‡è·¯å¾„ç»Ÿä¸€
- å½“å‰ï¼š`images/book-02-188x246.jpg`
- å»ºè®®ï¼š`/uploads/books/covers/book-02-188x246.jpg`

### ğŸ¯ ä»£ç ä¿®æ”¹å·¥ä½œé‡è¯„ä¼°

#### ğŸŸ¢ ä½å·¥ä½œé‡ï¼ˆ1-2å¤©ï¼‰
- ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆå·²æœ‰APIæ¥å£ï¼‰
- è®¢å•åˆ›å»ºï¼ˆå·²æœ‰fetchè°ƒç”¨ï¼‰
- æ”¯ä»˜ç³»ç»Ÿï¼ˆå·²æœ‰APIè°ƒç”¨ï¼‰

#### ğŸŸ¡ ä¸­ç­‰å·¥ä½œé‡ï¼ˆ3-5å¤©ï¼‰
- è´­ç‰©è½¦localStorage â†’ API
- ç”¨æˆ·åå¥½localStorage â†’ API
- å›¾ä¹¦æœç´¢å’Œåˆ†ç±»

#### ğŸ”´ é«˜å·¥ä½œé‡ï¼ˆ5-7å¤©ï¼‰
- æµè§ˆå†å²ç³»ç»Ÿé‡æ„
- è®ºå›ç³»ç»ŸAPIé›†æˆ
- ä¸ªæ€§åŒ–æ¨èç®—æ³•å¯¹æ¥

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡è§„èŒƒ

### ğŸ“ å‘½åè§„èŒƒï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰
- **æ•°æ®åº“åç§°**ï¼š`huaxuan_bookstore`
- **è¡¨å**ï¼šä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼ˆsnake_caseï¼‰
- **å­—æ®µå**ï¼šä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼ˆsnake_caseï¼‰
- **ä¸»é”®**ï¼šç»Ÿä¸€ä½¿ç”¨ `id` ä½œä¸ºä¸»é”®å
- **å¤–é”®**ï¼šä½¿ç”¨ `è¡¨å_id` æ ¼å¼ï¼ˆå¦‚ï¼š`user_id`, `book_id`ï¼‰
- **æ—¶é—´å­—æ®µ**ï¼šåˆ›å»ºæ—¶é—´ `created_at`ï¼Œæ›´æ–°æ—¶é—´ `updated_at`
- **çŠ¶æ€å­—æ®µ**ï¼šä½¿ç”¨ `is_active`, `is_deleted` ç­‰å¸ƒå°”å€¼

### ğŸ”‘ å…³é”®å­—æ®µç»Ÿä¸€æ ‡å‡†

```sql
-- ç”¨æˆ·IDå­—æ®µ
user_id INT NOT NULL

-- å›¾ä¹¦IDå­—æ®µ
book_id INT NOT NULL

-- è®¢å•IDå­—æ®µï¼ˆå­—ç¬¦ä¸²æ ¼å¼ï¼šORD001ï¼‰
order_id VARCHAR(20) NOT NULL

-- ä»·æ ¼å­—æ®µï¼ˆç»Ÿä¸€ä½¿ç”¨DECIMALï¼‰
price DECIMAL(10,2) NOT NULL
original_price DECIMAL(10,2) NOT NULL

-- æ—¶é—´å­—æ®µï¼ˆç»Ÿä¸€ä½¿ç”¨TIMESTAMPï¼‰
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

-- çŠ¶æ€å­—æ®µï¼ˆç»Ÿä¸€ä½¿ç”¨BOOLEANï¼‰
is_active BOOLEAN DEFAULT TRUE
is_deleted BOOLEAN DEFAULT FALSE
```

### âš ï¸ æ•°æ®åº“å­—æ®µæ˜ å°„é‡è¦è¯´æ˜

**å‰ç«¯ä»£ç ä¸­çš„å­—æ®µåå¿…é¡»ä¸æ•°æ®åº“å­—æ®µåä¿æŒä¸€è‡´ï¼**

#### ğŸ“‹ å…³é”®å­—æ®µæ˜ å°„è¡¨ï¼š

| å‰ç«¯JavaScriptå­—æ®µ | æ•°æ®åº“å­—æ®µ | æ•°æ®ç±»å‹ | è¯´æ˜ |
|------------------|-----------|---------|------|
| `id` | `id` | INT | ä¸»é”®ID |
| `userId` | `user_id` | INT | ç”¨æˆ·ID |
| `bookId` | `book_id` | INT | å›¾ä¹¦ID |
| `orderId` | `id` | VARCHAR(20) | è®¢å•IDï¼ˆæ ¼å¼ï¼šORD001ï¼‰ |
| `title` | `title` | VARCHAR(255) | å›¾ä¹¦æ ‡é¢˜ |
| `author` | `author` | VARCHAR(255) | ä½œè€… |
| `publisher` | `publisher` | VARCHAR(255) | å‡ºç‰ˆç¤¾ |
| `isbn` | `isbn` | VARCHAR(20) | ISBNå· |
| `originalPrice` | `original_price` | DECIMAL(10,2) | åŸä»· |
| `currentPrice` | `current_price` | DECIMAL(10,2) | ç°ä»· |
| `stockQuantity` | `stock_quantity` | INT | åº“å­˜æ•°é‡ |
| `coverImageUrl` | `cover_image_url` | VARCHAR(255) | å°é¢å›¾ç‰‡URL |
| `publishDate` | `publish_date` | DATE | å‡ºç‰ˆæ—¥æœŸ |
| `createdAt` | `created_at` | TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| `updatedAt` | `updated_at` | TIMESTAMP | æ›´æ–°æ—¶é—´ |
| `isActive` | `is_active` | BOOLEAN | æ˜¯å¦æ¿€æ´» |

#### ğŸ”„ å­—æ®µåè½¬æ¢è§„åˆ™ï¼š
- **å‰ç«¯ â†’ æ•°æ®åº“**ï¼šé©¼å³°å‘½å â†’ ä¸‹åˆ’çº¿å‘½å
- **æ•°æ®åº“ â†’ å‰ç«¯**ï¼šä¸‹åˆ’çº¿å‘½å â†’ é©¼å³°å‘½å

#### ğŸ’¡ å®ç°å»ºè®®ï¼š
```javascript
// åç«¯APIåº”è¯¥å¤„ç†å­—æ®µåè½¬æ¢
// å‰ç«¯å‘é€ï¼š{userId: 1, bookId: 2}
// æ•°æ®åº“å­˜å‚¨ï¼š{user_id: 1, book_id: 2}
```

## ğŸ“Š æ ¸å¿ƒæ•°æ®æ¨¡å‹

### 1. ç”¨æˆ·æ•°æ®æ¨¡å‹ (users)
```sql
CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    phone VARCHAR(20),
    real_name VARCHAR(50),
    gender ENUM('male', 'female', 'other'),
    birth_date DATE,
    address TEXT,
    avatar_url VARCHAR(255),
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_login TIMESTAMP,
    is_active BOOLEAN DEFAULT TRUE,
    email_verified BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

**å‰ç«¯æ•°æ®ç»“æ„å¯¹åº”ï¼š**
```javascript
{
    id: 1,
    username: "zhangsan",
    email: "zhangsan@example.com",
    phone: "13800138000",
    realName: "å¼ ä¸‰",
    gender: "male",
    birthDate: "1990-01-01",
    address: "åŒ—äº¬å¸‚æœé˜³åŒºxxxè¡—é“xxxå·",
    avatarUrl: "images/user-1-80x80.jpg"
}
```

### 2. å›¾ä¹¦æ•°æ®æ¨¡å‹ (books)
```sql
CREATE TABLE books (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    author VARCHAR(255) NOT NULL,
    publisher VARCHAR(255) NOT NULL,
    isbn VARCHAR(20) UNIQUE,
    publish_date DATE,
    category VARCHAR(50) NOT NULL,
    original_price DECIMAL(10,2) NOT NULL,
    current_price DECIMAL(10,2) NOT NULL,
    stock_quantity INT NOT NULL DEFAULT 0,
    cover_image_url VARCHAR(255),
    description TEXT,
    contents TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_category (category),
    INDEX idx_title (title),
    INDEX idx_author (author)
);
```

**å›¾ä¹¦åˆ†ç±»æšä¸¾å€¼ï¼š**
- `business` - ç»æµç®¡ç†
- `technology` - ç§‘æŠ€è®¡ç®—æœº  
- `literature` - æ–‡å­¦è‰ºæœ¯
- `education` - æ•™è‚²è€ƒè¯•
- `children` - å°‘å„¿è¯»ç‰©
- `life` - ç”Ÿæ´»ä¼‘é—²
- `social` - ç¤¾ä¼šç§‘å­¦

**å‰ç«¯æ•°æ®ç»“æ„å¯¹åº”ï¼š**
```javascript
{
    id: 1,
    title: "é¢†å¯¼åŠ›è‰ºæœ¯",
    author: "ä¹”å®‰å¦®Â·èˆ’å°”èŒ¨",
    publisher: "å•†åŠ¡å°ä¹¦é¦†",
    isbn: "978-7-100-12345-6",
    publishDate: "2023-01-15",
    originalPrice: 35.00,
    currentPrice: 25.00,
    stockQuantity: 50,
    coverImageUrl: "images/book-02-188x246.jpg",
    category: "business",
    description: "è¿™æ˜¯ä¸€æœ¬å…³äºé¢†å¯¼åŠ›å‘å±•çš„ç»å…¸è‘—ä½œ...",
    contents: "ç¬¬ä¸€ç« ï¼šé¢†å¯¼åŠ›çš„æœ¬è´¨\nç¬¬äºŒç« ï¼šå»ºç«‹ä¿¡ä»»ä¸å¨ä¿¡..."
}
```

### 3. è®¢å•æ•°æ®æ¨¡å‹ (orders & order_items)
```sql
-- è®¢å•ä¸»è¡¨
CREATE TABLE orders (
    id VARCHAR(20) PRIMARY KEY,  -- æ ¼å¼ï¼šORD001, ORD002
    user_id INT NOT NULL,
    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status ENUM('pending', 'paid', 'shipped', 'delivered', 'cancelled') DEFAULT 'pending',
    total_amount DECIMAL(10,2) NOT NULL,
    shipping_address TEXT NOT NULL,
    tracking_number VARCHAR(50),
    email_sent BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    INDEX idx_user_id (user_id),
    INDEX idx_status (status)
);

-- è®¢å•è¯¦æƒ…è¡¨
CREATE TABLE order_items (
    id INT PRIMARY KEY AUTO_INCREMENT,
    order_id VARCHAR(20) NOT NULL,
    book_id INT NOT NULL,
    quantity INT NOT NULL,
    unit_price DECIMAL(10,2) NOT NULL,
    subtotal DECIMAL(10,2) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (order_id) REFERENCES orders(id),
    FOREIGN KEY (book_id) REFERENCES books(id)
);
```

**è®¢å•çŠ¶æ€è¯´æ˜ï¼š**
- `pending` - å¾…æ”¯ä»˜
- `paid` - å·²æ”¯ä»˜
- `shipped` - å·²å‘è´§
- `delivered` - å·²é€è¾¾
- `cancelled` - å·²å–æ¶ˆ

### 4. è´­ç‰©è½¦æ•°æ®æ¨¡å‹ (shopping_cart)
```sql
CREATE TABLE shopping_cart (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    book_id INT NOT NULL,
    quantity INT NOT NULL DEFAULT 1,
    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (book_id) REFERENCES books(id),
    UNIQUE KEY unique_user_book (user_id, book_id)
);
```

### 5. ç”¨æˆ·åå¥½è®¾ç½® (user_preferences)
```sql
CREATE TABLE user_preferences (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL UNIQUE,
    preferred_categories JSON,  -- ['literature', 'business']
    notification_settings JSON, -- {newBooks: true, orders: true, promotions: false, forum: true}
    recommendation_settings JSON, -- {frequency: 'weekly', count: 5, algorithm: 'browsing'}
    privacy_settings JSON, -- {trackBrowsing: true, trackPurchase: true, dataSharing: false}
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### 6. æµè§ˆå†å² (browsing_history)
```sql
CREATE TABLE browsing_history (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    book_id INT NOT NULL,
    view_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    duration INT DEFAULT 0,  -- æµè§ˆæ—¶é•¿ï¼ˆç§’ï¼‰
    source ENUM('search', 'category', 'recommendation', 'direct') DEFAULT 'direct',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (book_id) REFERENCES books(id),
    INDEX idx_user_time (user_id, view_time)
);
```

### 7. è®ºå›ç³»ç»Ÿ (forum_posts & forum_replies)
```sql
-- è®ºå›å¸–å­è¡¨
CREATE TABLE forum_posts (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    author_id INT NOT NULL,
    category ENUM('review', 'discussion', 'suggestion', 'complaint') NOT NULL,
    reply_count INT DEFAULT 0,
    view_count INT DEFAULT 0,
    like_count INT DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (author_id) REFERENCES users(id),
    INDEX idx_category (category),
    INDEX idx_author (author_id)
);

-- è®ºå›å›å¤è¡¨
CREATE TABLE forum_replies (
    id INT PRIMARY KEY AUTO_INCREMENT,
    post_id INT NOT NULL,
    author_id INT NOT NULL,
    content TEXT NOT NULL,
    like_count INT DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (post_id) REFERENCES forum_posts(id),
    FOREIGN KEY (author_id) REFERENCES users(id)
);
```

**è®ºå›åˆ†ç±»è¯´æ˜ï¼š**
- `review` - ä¹¦è¯„æ¨è
- `discussion` - è¯»ä¹¦è®¨è®º
- `suggestion` - å»ºè®®åé¦ˆ
- `complaint` - æ„è§æŠ•è¯‰

### 8. ä¸ªæ€§åŒ–æ¨è (recommendations)
```sql
CREATE TABLE recommendations (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    book_id INT NOT NULL,
    algorithm_type ENUM('browsing', 'purchase', 'similar', 'popular') NOT NULL,
    score DECIMAL(5,2) NOT NULL,  -- æ¨èåˆ†æ•° 0-100
    reason VARCHAR(255),
    is_clicked BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (book_id) REFERENCES books(id),
    INDEX idx_user_score (user_id, score)
);
```

## ğŸ”Œ APIæ¥å£è§„èŒƒ

### åŸºç¡€URL
```
http://localhost:3000/api
```

### è®¤è¯æ–¹å¼
```javascript
// è¯·æ±‚å¤´æ ¼å¼
{
    "Authorization": "Bearer <token>",
    "Content-Type": "application/json"
}
```

### å“åº”æ ¼å¼ç»Ÿä¸€æ ‡å‡†
```javascript
// æˆåŠŸå“åº”
{
    "success": true,
    "data": {...},
    "message": "æ“ä½œæˆåŠŸ"
}

// é”™è¯¯å“åº”
{
    "success": false,
    "error": "é”™è¯¯ä¿¡æ¯",
    "code": "ERROR_CODE"
}
```

### æ ¸å¿ƒæ¥å£åˆ—è¡¨

#### ç”¨æˆ·è®¤è¯
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/auth/forgot-password` - å¿˜è®°å¯†ç 
- `POST /api/auth/change-password` - ä¿®æ”¹å¯†ç 

#### ç”¨æˆ·ç®¡ç†
- `GET /api/user/profile` - è·å–ç”¨æˆ·ä¿¡æ¯
- `PUT /api/user/profile` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `GET /api/user/preferences` - è·å–ç”¨æˆ·åå¥½
- `PUT /api/user/preferences` - æ›´æ–°ç”¨æˆ·åå¥½

#### å›¾ä¹¦ç®¡ç†
- `GET /api/books` - è·å–å›¾ä¹¦åˆ—è¡¨
- `GET /api/books/:id` - è·å–å›¾ä¹¦è¯¦æƒ…
- `GET /api/books/search` - å›¾ä¹¦æœç´¢
- `GET /api/books/categories` - è·å–åˆ†ç±»

#### è´­ç‰©è½¦
- `GET /api/cart` - è·å–è´­ç‰©è½¦
- `POST /api/cart/add` - æ·»åŠ åˆ°è´­ç‰©è½¦
- `PUT /api/cart/update` - æ›´æ–°æ•°é‡
- `DELETE /api/cart/remove` - ç§»é™¤å•†å“

#### è®¢å•ç®¡ç†
- `POST /api/orders` - åˆ›å»ºè®¢å•
- `GET /api/orders` - è·å–è®¢å•åˆ—è¡¨
- `GET /api/orders/:id` - è·å–è®¢å•è¯¦æƒ…
- `PUT /api/orders/:id/pay` - æ”¯ä»˜è®¢å•

#### æµè§ˆå†å²
- `POST /api/browsing-history` - æ·»åŠ æµè§ˆè®°å½•
- `GET /api/browsing-history` - è·å–æµè§ˆå†å²
- `DELETE /api/browsing-history` - æ¸…ç©ºå†å²

#### è®ºå›åŠŸèƒ½
- `GET /api/forum/posts` - è·å–å¸–å­åˆ—è¡¨
- `POST /api/forum/posts` - å‘è¡¨æ–°å¸–
- `GET /api/forum/posts/:id` - è·å–å¸–å­è¯¦æƒ…
- `POST /api/forum/posts/:id/replies` - å›å¤å¸–å­

#### ä¸ªæ€§åŒ–æ¨è
- `GET /api/recommendations` - è·å–æ¨è
- `POST /api/recommendations/click` - è®°å½•ç‚¹å‡»

## ğŸš€ æ•°æ®è¿ç§»è®¡åˆ’

### 1. åˆå§‹æ•°æ®å¯¼å…¥
- **å›¾ä¹¦æ•°æ®**ï¼šçº¦20æœ¬æ¨¡æ‹Ÿå›¾ä¹¦éœ€è¦å¯¼å…¥
- **ç”¨æˆ·æ•°æ®**ï¼šåˆ›å»ºæµ‹è¯•ç”¨æˆ·è´¦å·
- **åˆ†ç±»æ•°æ®**ï¼š7ä¸ªå›¾ä¹¦åˆ†ç±»

### 2. å›¾ç‰‡èµ„æºå¤„ç†
- **å½“å‰è·¯å¾„**ï¼š`images/book-xx-188x246.jpg`
- **å»ºè®®è·¯å¾„**ï¼š`/uploads/books/covers/`
- **éœ€è¦é…ç½®**ï¼šå›¾ç‰‡ä¸Šä¼ å’Œè®¿é—®æ¥å£

### 3. ä»£ç ä¿®æ”¹é‡ç‚¹
```javascript
// éœ€è¦æ›¿æ¢çš„localStorageè°ƒç”¨
localStorage.getItem('userInfo')        â†’ APIè°ƒç”¨
localStorage.setItem('cart', data)      â†’ POST /api/cart/add
localStorage.getItem('browsingHistory') â†’ GET /api/browsing-history
```

## ğŸ“‹ å¼€å‘ä¼˜å…ˆçº§

### Phase 1: æ ¸å¿ƒåŠŸèƒ½ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
1. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
2. å›¾ä¹¦ç®¡ç†å’Œæœç´¢
3. è´­ç‰©è½¦åŠŸèƒ½
4. è®¢å•ç®¡ç†

### Phase 2: æ‰©å±•åŠŸèƒ½ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
1. ç”¨æˆ·åå¥½è®¾ç½®
2. æµè§ˆå†å²è®°å½•
3. ä¸ªæ€§åŒ–æ¨è

### Phase 3: ç¤¾åŒºåŠŸèƒ½ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
1. è®ºå›ç³»ç»Ÿ
2. è¯„è®ºå›å¤
3. é‚®ä»¶é€šçŸ¥

## âš™ï¸ æŠ€æœ¯æ ˆå»ºè®®

- **åç«¯æ¡†æ¶**ï¼šNode.js + Express æˆ– Python + Django
- **æ•°æ®åº“**ï¼šMySQL 8.0+ æˆ– PostgreSQL
- **ç¼“å­˜**ï¼šRedisï¼ˆsessionã€è´­ç‰©è½¦ï¼‰
- **æ–‡ä»¶å­˜å‚¨**ï¼šæœ¬åœ°å­˜å‚¨ æˆ– äº‘å­˜å‚¨
- **é‚®ä»¶æœåŠ¡**ï¼šSMTP æˆ– ç¬¬ä¸‰æ–¹æœåŠ¡

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰ç–‘é—®ï¼Œè¯·åŠæ—¶æ²Ÿé€šç¡®è®¤æ•°æ®åº“è®¾è®¡å’Œæ¥å£è§„èŒƒã€‚

---
**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æ›´æ–°æ—¶é—´**ï¼š2024-01-28  
**è´Ÿè´£äºº**ï¼šå‰ç«¯å¼€å‘å›¢é˜Ÿ
