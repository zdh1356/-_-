<!DOCTYPE html>
<html class="wide wow-animation" lang="zh-CN">
  <head>
    <!-- 网站标题-->
    <title>修改密码 - 华轩书店</title>
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <!-- 样式表-->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:700%7CLato:300,400,300italic,700">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/fonts.css">
    <!-- 实时数据系统样式 -->
    <link rel="stylesheet" href="css/realtime-ui.css">
		<!--[if lt IE 10]>
    <div style="background: #212121; padding: 10px 0; box-shadow: 3px 3px 5px 0 rgba(0,0,0,.3); clear: both; text-align:center; position: relative; z-index:1;"><a href="http://windows.microsoft.com/en-US/internet-explorer/"><img src="images/ie8-panel/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="您正在使用过时的浏览器。为了获得更快更安全的浏览体验，请免费升级。"></a></div>
    <script src="js/html5shiv.min.js"></script>
		<![endif]-->
  </head>
  <body>
    <!-- Page preloader-->
    <div class="page-loader">
      <div class="page-loader-body">
        <div class="preloader-wrapper big active">
          <div class="spinner-layer spinner-primary">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div>
            <div class="gap-patch">
              <div class="circle"> </div>
            </div>
            <div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
          <div class="spinner-layer spinner-primary">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div>
            <div class="gap-patch">
              <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
          <div class="spinner-layer spinner-primary">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div>
            <div class="gap-patch">
              <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
          <div class="spinner-layer spinner-primary">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div>
            <div class="gap-patch">
              <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Page-->
    <div class="page">
      <!-- Page Header-->
      <header class="section page-header">
        <!-- RD Navbar-->
        <div class="rd-navbar-wrap rd-navbar-centered">
          <nav class="rd-navbar novi-background" data-layout="rd-navbar-fixed" data-sm-layout="rd-navbar-fixed" data-md-layout="rd-navbar-fixed" data-md-device-layout="rd-navbar-fixed" data-lg-layout="rd-navbar-fullwidth" data-lg-device-layout="rd-navbar-fixed" data-xl-layout="rd-navbar-static" data-xl-device-layout="rd-navbar-static" data-md-stick-up-offset="1px" data-lg-stick-up-offset="1px" data-stick-up="true" data-sm-stick-up="true" data-md-stick-up="true" data-lg-stick-up="true" data-xl-stick-up="true">
            <div class="rd-navbar-inner">
              <div class="rd-navbar-aside-left">
                <div class="rd-navbar-nav-wrap">
                  <!-- RD Navbar Nav-->
                  <ul class="rd-navbar-nav">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="#">图书分类</a>
                      <!-- RD Navbar Dropdown-->
                      <ul class="rd-navbar-dropdown">
                        <li><a href="category.html?type=business">商业管理</a></li>
                        <li><a href="category.html?type=technology">科技计算机</a></li>
                        <li><a href="category.html?type=literature">文学艺术</a></li>
                        <li><a href="category.html?type=education">教育考试</a></li>
                        <li><a href="category.html?type=children">少儿读物</a></li>
                        <li><a href="category.html?type=life">生活休闲</a></li>
                        <li><a href="category.html?type=social">社会科学</a></li>
                      </ul>
                    </li>
                    <li><a href="category.html">全部图书</a></li>
                  </ul>
                </div>
              </div>
              <!-- RD Navbar Panel-->
              <div class="rd-navbar-panel">
                <button class="rd-navbar-toggle" data-rd-navbar-toggle=".rd-navbar-nav-wrap"><span></span></button>
                <!-- RD Navbar Brand-->
                <div class="rd-navbar-brand">
                  <a class="brand-name" href="index.html">
                    <img class="logo-default" src="images/logo-default-161x57.png" alt="华轩书店" width="161" height="57"/>
                    <img class="logo-inverse" src="images/logo-inverse-161x57.png" alt="华轩书店" width="161" height="57"/>
                  </a>
                </div>
              </div>
              <div class="rd-navbar-collapse-toggle" data-rd-navbar-toggle=".rd-navbar-collapse"><span></span></div>
              <div class="rd-navbar-aside-right rd-navbar-collapse">
                <!-- RD Navbar Search-->
                <div class="rd-navbar-search">
                  <a class="rd-navbar-search-toggle" data-rd-navbar-toggle=".rd-navbar-search" href="#"><span></span></a>
                  <form class="rd-search" action="search.html" data-search-live="rd-search-results-live" method="GET">
                    <div class="form-wrap">
                      <label class="form-label form-label" for="rd-navbar-search-form-input">搜索图书...</label>
                      <input class="rd-navbar-search-form-input form-input" id="rd-navbar-search-form-input" type="text" name="keyword" autocomplete="off">
                      <div class="rd-search-results-live"></div>
                    </div>
                    <button class="rd-search-form-submit mdi mdi-magnify"></button>
                  </form>
                </div>
                <!-- User Menu -->
                <div class="rd-navbar-user">
                  <a href="#" class="user-icon" id="userMenu">
                    <i class="mdi mdi-account"></i>
                    <span id="userDisplayName">用户中心</span>
                  </a>
                  <div class="user-dropdown" id="userDropdown" style="display: none;">
                    <a href="user-profile.html">个人资料</a>
                    <a href="order-history.html">我的订单</a>
                    <a href="browsing-history.html">浏览历史</a>
                    <a href="user-preferences.html">偏好设置</a>
                    <a href="change-password.html">修改密码</a>
                    <a href="#" onclick="logout()">退出登录</a>
                  </div>
                </div>
                <!-- Shopping Cart -->
                <div class="rd-navbar-cart">
                  <a href="shopping-cart.html" class="cart-icon">
                    <i class="mdi mdi-cart"></i>
                    <span class="cart-count">0</span>
                  </a>
                </div>
              </div>
            </div>
          </nav>
        </div>
      </header>
      <section class="single-screen section fullwidth-page">
        <div class="fullwidth-page-inner" style="display: flex; align-items: flex-start; justify-content: center; min-height: 100vh; padding-top: 90px;">
          <div class="section-md" style="width: 100%;">
            <div class="container">
              <div class="row">
                <div class="col-md-10 col-lg-8 col-xl-6" style="margin-left: 35%;">
                  <div class="card" style="padding: 60px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                    <h3 class="text-primary mb-4" style="margin-bottom: 40px; font-size: 28px;">修改密码</h3>
                    <p class="text-muted mb-4" style="margin-bottom: 30px; font-size: 16px;">为了您的账户安全，请定期更换密码。</p>
                    <!-- Change Password Form-->
                    <form class="rd-mailform form-fix" id="changePasswordForm" method="POST" action="/api/change-password" style="margin-top: 30px;">
                      <div class="form-wrap form-wrap-validation">
                        <input class="form-input" id="forms-current-password" type="password" name="currentPassword" data-constraints="@Required" style="background: #f8f9fa; font-size: 16px; padding: 15px;">
                        <label class="form-label" for="forms-current-password">当前密码</label>
                      </div>
                      <div class="form-wrap form-wrap-validation">
                        <input class="form-input" id="forms-new-password" type="password" name="newPassword" data-constraints="@Required" style="background: #f8f9fa; font-size: 16px; padding: 15px;">
                        <label class="form-label" for="forms-new-password">新密码</label>
                      </div>
                      <div class="form-wrap form-wrap-validation">
                        <input class="form-input" id="forms-confirm-new-password" type="password" name="confirmNewPassword" data-constraints="@Required" style="background: #f8f9fa; font-size: 16px; padding: 15px;">
                        <label class="form-label" for="forms-confirm-new-password">确认新密码</label>
                      </div>
                      <div class="form-wrap">
                        <div class="password-strength" id="passwordStrength" style="margin-bottom: 15px;">
                          <div class="strength-meter">
                            <div class="strength-meter-fill" id="strengthMeterFill"></div>
                          </div>
                          <p class="strength-text" id="strengthText">密码强度：请输入密码</p>
                        </div>
                      </div>
                      <div class="form-wrap">
                        <button class="button button-block button-primary" type="submit" style="font-size: 18px; padding: 15px;">修改密码</button>
                      </div>
                      <div class="form-wrap text-center" style="margin-top: 25px;">
                        <p style="font-size: 16px;"><a href="user-profile.html">返回个人中心</a></p>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="fullwidth-page-footer text-center">
          <p class="rights"><span>&copy;&nbsp;</span><span class="copyright-year"></span><span>&nbsp;</span><span>华轩书店</span><span>. 保留所有权利.</span></p>
        </div>
      </section>
    </div>
    <!-- Global Mailform Output-->
    <div class="snackbars" id="form-output-global"></div>
    <!-- Javascript-->
    <script src="js/core.min.js"></script>
    <script src="js/script.js"></script>

    <!-- 实时数据系统脚本 -->
    <script src="js/realtime-data-manager.js"></script>
    <script src="js/page-adapters.js"></script>

    <!-- 保留密码强度检测功能 -->
    <script>
      // 密码强度检测
      function checkPasswordStrength(password) {
        let strength = 0;
        let text = '';
        let color = '';

        if (password.length >= 8) strength += 1;
        if (/[a-z]/.test(password)) strength += 1;
        if (/[A-Z]/.test(password)) strength += 1;
        if (/[0-9]/.test(password)) strength += 1;
        if (/[^A-Za-z0-9]/.test(password)) strength += 1;

        switch (strength) {
          case 0:
          case 1:
            text = '密码强度：弱';
            color = '#ff4444';
            break;
          case 2:
          case 3:
            text = '密码强度：中等';
            color = '#ffaa00';
            break;
          case 4:
          case 5:
            text = '密码强度：强';
            color = '#00aa00';
            break;
        }

        document.getElementById('strengthText').textContent = text;
        document.getElementById('strengthText').style.color = color;
        document.getElementById('strengthMeterFill').style.width = (strength * 20) + '%';
        document.getElementById('strengthMeterFill').style.backgroundColor = color;
      }

      // 监听新密码输入
      document.addEventListener('DOMContentLoaded', function() {
        const newPasswordInput = document.getElementById('forms-new-password');
        if (newPasswordInput) {
          newPasswordInput.addEventListener('input', function(e) {
            checkPasswordStrength(e.target.value);
          });
        }
      });
    </script>

    <style>
      .password-strength {
        margin-top: 10px;
      }

      .strength-meter {
        width: 100%;
        height: 8px;
        background-color: #e0e0e0;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 8px;
      }

      .strength-meter-fill {
        height: 100%;
        width: 0%;
        background-color: #ff4444;
        transition: width 0.3s ease, background-color 0.3s ease;
      }

      .strength-text {
        font-size: 14px;
        margin: 0;
        color: #666;
      }

      .user-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        background: white;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        min-width: 150px;
        z-index: 1000;
      }

      .user-dropdown a {
        display: block;
        padding: 10px 15px;
        color: #333;
        text-decoration: none;
        border-bottom: 1px solid #eee;
      }

      .user-dropdown a:hover {
        background-color: #f5f5f5;
      }

      .user-dropdown a:last-child {
        border-bottom: none;
      }
    </style>
  </body>
</html>
